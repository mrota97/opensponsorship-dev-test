(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{261:function(e,a,t){"use strict";t.r(a);t(121),t(122);var l=t(0),n=t.n(l),r=t(17),c=t.n(r),s=t(50),i=t(8),o=t(39),d=t.n(o),u=t(66),b=t(83),j=t(22),h=t(30),x=t.n(h),O=t(46),m=t(12),f=t(4),v=t(18),p=t(37),g=t(115),y=t.n(g),S=t(21),C=t.n(S),N=t(16),k=[{label:"Golf",value:"golf",id:1},{label:"Tennis",value:"tennis",id:2},{label:"Cricket",value:"cricket",id:3},{label:"Basketball",value:"basketball",id:4},{label:"Baseball",value:"baseball",id:5},{label:"American Football",value:"american_football",id:6},{label:"Aquatics",value:"aquatics",id:7},{label:"Archery",value:"archery",id:8},{label:"Automobile Racing",value:"automobile_racing",id:9},{label:"Badminton",value:"badminton",id:10},{label:"Beach Volleyball",value:"beach_volleyball",id:11},{label:"Bobsleigh",value:"bobsleigh",id:12},{label:"Body Building",value:"body_building",id:13},{label:"Boxing",value:"boxing",id:14},{label:"Cross Country Running",value:"cross_country_running",id:15},{label:"Cross Country Skiing",value:"cross_country_skiing",id:16},{label:"Curling",value:"curling",id:17},{label:"Cycling",value:"cycling",id:18},{label:"Darts",value:"darts",id:19},{label:"Decathlon",value:"decathlon",id:20},{label:"Down Hill Skiing",value:"down_hill_skiing",id:21},{label:"Equestrianism",value:"equestrianism",id:22},{label:"eSports",value:"esports",id:23},{label:"Fencing",value:"fencing",id:24},{label:"Field Hockey",value:"field_hockey",id:25},{label:"Figure Skating",value:"figure_skating",id:26},{label:"Gymnastics",value:"gymnastics",id:27},{label:"Ice Hockey",value:"ice_hockey",id:28},{label:"Martial Arts",value:"martial_arts",id:29},{label:"Mixed Martial Arts",value:"mixed_martial_arts",id:30},{label:"Modern Pentathlon",value:"modern_pentathlon",id:31},{label:"Motorcycle Racing",value:"motorcycle_racing",id:32},{label:"Netball",value:"netball",id:33},{label:"Polo",value:"polo",id:34},{label:"Racquetball",value:"racquetball",id:35},{label:"Rowing",value:"rowing",id:36},{label:"Rugby",value:"rugby",id:37},{label:"Sailing",value:"sailing",id:38},{label:"Softball",value:"softball",id:39},{label:"Shooting",value:"shooting",id:40},{label:"Skateboarding",value:"skateboarding",id:41},{label:"Skeet Shooting",value:"skeet_shooting",id:42},{label:"Skeleton",value:"skeleton",id:43},{label:"Snow Boarding",value:"snow_boarding",id:44},{label:"Soccer (Football)",value:"soccer_football",id:45},{label:"Squash",value:"squash",id:46},{label:"Surfing",value:"surfing",id:47},{label:"Swimming",value:"swimming",id:48},{label:"Track and Field",value:"track_and_field",id:49}],w=t(1),I=N.d({name:N.e().required("Please enter your name"),dob:N.b().max(C()().subtract(1,"day"),"Please enter a valid birthday."),sports:N.a(N.c()).min(1,"Please list one or more sports"),gender:N.e().required("Please enter your gender")});function L(e){var a=e.setBasicInfo,t=e.shouldFormReset,n=l.useState({}),r=Object(i.a)(n,2),c=r[0],s=r[1],o=l.useState(""),d=Object(i.a)(o,2),u=d[0],b=d[1],j=l.useState(C()().toDate()),h=Object(i.a)(j,2),m=h[0],g=h[1],S=l.useState([]),N=Object(i.a)(S,2),L=N[0],B=N[1],G=l.useState(""),A=Object(i.a)(G,2),F=A[0],_=A[1];function D(){return(D=Object(O.a)(x.a.mark((function e(t){var l,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l={name:u,dob:m,sports:L,gender:F},e.prev=2,e.next=5,I.validate(l,{abortEarly:!1});case 5:s({}),a(l),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),n={},e.t0.inner.forEach((function(e){n[e.path]=e.message})),s(n);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return l.useEffect((function(){t&&(s({}),b(""),g(C()().toDate()),B([]),_(""))}),[t]),Object(w.jsxs)(f.a,{onSubmit:function(e){return D.apply(this,arguments)},children:[Object(w.jsxs)(f.a.Group,{children:[Object(w.jsx)(f.a.Label,{children:"Name"}),Object(w.jsx)(f.a.Control,{id:"name",name:"name",placeholder:"Name",value:u,onChange:function(e){return b(e.currentTarget.value)}}),c.name&&Object(w.jsx)("div",{className:"form-text text-danger",children:c.name})]}),Object(w.jsxs)(f.a.Group,{children:[Object(w.jsx)(f.a.Label,{children:"Date of Birth"}),Object(w.jsx)(y.a,{timeFormat:!1,isValidDate:function(e){return e.isBefore(C()().subtract(1,"day"))},onChange:function(e){return g(e)},closeOnSelect:!0}),c.dob&&Object(w.jsx)("div",{className:"form-text text-danger",children:c.dob})]}),Object(w.jsxs)(f.a.Group,{children:[Object(w.jsx)(f.a.Label,{children:"Sports"}),Object(w.jsx)(p.a,{options:k,name:"sports",onChange:B,value:L,isMulti:!0,menuPortalTarget:document.getElementById("container-root")}),c.sports&&Object(w.jsx)("div",{className:"form-text text-danger",children:c.sports})]}),Object(w.jsxs)(f.a.Group,{children:[Object(w.jsx)(f.a.Label,{children:"Gender"}),Object(w.jsx)(f.a.Control,{id:"gender",name:"gender",type:"text",placeholder:"Gender",onChange:function(e){return _(e.currentTarget.value)},value:F}),c.gender&&Object(w.jsx)("div",{className:"form-text text-danger",children:c.gender})]}),Object(w.jsx)(v.a,{variant:"primary",type:"submit",children:"Next"})]})}function B(e){var a=e.accordionActiveKey,t=e.setBasicInfo,l=e.openBasicInfo,n=e.shouldFormReset;return Object(w.jsxs)(m.a,{children:[Object(w.jsx)(j.a.Toggle,{as:m.a.Header,onClick:l,eventKey:a,children:"Basic Info"}),Object(w.jsx)(j.a.Collapse,{eventKey:a,children:Object(w.jsx)(m.a.Body,{className:"mb-3",children:Object(w.jsx)(L,{setBasicInfo:t,shouldFormReset:n})})})]})}var G=t(64),A=N.d({about:N.e().required("Please provide a description for yourself"),location:N.e().required("Please enter your location"),team:N.e().required("Please enter your favorite team"),interests:N.e().required("Please list some of your interests")}),F=function(e){var a=e.setAboutInfo,t=e.previousForm,n=e.shouldFormReset,r=l.useState({}),c=Object(i.a)(r,2),s=c[0],o=c[1],u=l.useState(""),b=Object(i.a)(u,2),j=b[0],h=b[1],m=l.useState(""),p=Object(i.a)(m,2),g=p[0],y=p[1],S=l.useState(""),C=Object(i.a)(S,2),N=C[0],k=C[1],I=l.useState(""),L=Object(i.a)(I,2),B=L[0],F=L[1],_=l.useState("Upload a profile image..."),D=Object(i.a)(_,2),T=D[0],P=D[1],R=l.useState(null),M=Object(i.a)(R,2),E=M[0],q=M[1];function K(){return(K=Object(O.a)(x.a.mark((function e(a){var t,l,n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(t=a.target.files[0])&&alert("Invalid image"),e.prev=2,e.next=5,d.a.get("/api/sign-s3?file-name=".concat(t.name,"&file-type=").concat(t.type));case 5:return l=e.sent,n=l.data,r=n.url,c=n.signedRequest,console.log(r,c),e.next=10,d.a.put(c,t,{headers:{"Content-Type":t.type}});case 10:P(t.name),q(r),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.dir(e.t0),P("Unable to upload image");case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function H(){return(H=Object(O.a)(x.a.mark((function e(t){var l,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,l={about:j,interests:g,location:N,team:B,profileImage:E},e.next=5,A.validate(l,{abortEarly:!1});case 5:o({}),a(l),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(1),n={},console.dir(e.t0),e.t0.inner&&e.t0.inner.forEach((function(e){n[e.path]=e.message})),o(n);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return l.useEffect((function(){n&&(o({}),h(""),y(""),k(""),F(""),q("Upload a profile image..."),q(null))}),[n]),Object(w.jsxs)(f.a,{onSubmit:function(e){return H.apply(this,arguments)},children:[Object(w.jsxs)(f.a.Group,{controlId:"formTeamName",children:[Object(w.jsx)(f.a.Label,{children:"Favorite Team"}),Object(w.jsx)(f.a.Control,{type:"text",placeholder:"Team Name",value:B,onChange:function(e){return F(e.currentTarget.value)}}),s.team&&Object(w.jsx)("div",{className:"form-text text-danger",children:s.team})]}),Object(w.jsxs)(f.a.Group,{controlId:"formLocation",children:[Object(w.jsx)(f.a.Label,{children:"Your Location"}),Object(w.jsx)(f.a.Control,{type:"text",placeholder:"Location",value:N,onChange:function(e){return k(e.currentTarget.value)}}),s.location&&Object(w.jsx)("div",{className:"form-text text-danger",children:s.location})]}),Object(w.jsxs)(f.a.Group,{children:[Object(w.jsx)(f.a.Label,{children:"Profile Image"}),E&&Object(w.jsx)(G.a,{src:E,rounded:!0}),Object(w.jsx)(f.a.File,{id:"uploaded-profile-image",label:T,onChange:function(e){return K.apply(this,arguments)},custom:!0})]}),Object(w.jsxs)(f.a.Group,{controlId:"formInterests",children:[Object(w.jsx)(f.a.Label,{children:"What are your interests?"}),Object(w.jsx)(f.a.Control,{as:"textarea",rows:3,value:g,onChange:function(e){return y(e.currentTarget.value)}}),s.interests&&Object(w.jsx)("div",{className:"form-text text-danger",children:s.interests})]}),Object(w.jsxs)(f.a.Group,{controlId:"formDescription",children:[Object(w.jsx)(f.a.Label,{children:"Describe Yourself"}),Object(w.jsx)(f.a.Control,{as:"textarea",rows:3,value:j,onChange:function(e){return h(e.currentTarget.value)}}),s.about&&Object(w.jsx)("div",{className:"form-text text-danger",children:s.about})]}),Object(w.jsx)(v.a,{variant:"primary",type:"submit",children:"Next"})," ",Object(w.jsx)(v.a,{variant:"outline-secondary",onClick:t,children:"Back"})]})};function _(e){var a=e.accordionActiveKey,t=e.setAboutInfo,l=e.previousForm,n=e.shouldFormReset;return Object(w.jsxs)(m.a,{children:[Object(w.jsx)(j.a.Toggle,{as:m.a.Header,eventKey:a,children:"About"}),Object(w.jsx)(j.a.Collapse,{eventKey:a,children:Object(w.jsx)(m.a.Body,{children:Object(w.jsx)(F,{setAboutInfo:t,previousForm:l,shouldFormReset:n})})})]})}var D=t(23),T=t(9);function P(e){var a=e.accordionActiveKey,t=e.name,l=void 0===t?"John Doe":t,n=e.sports,r=void 0===n?"N/A":n,c=e.gender,s=void 0===c?"Male":c,i=e.dob,o=void 0===i?C()().toDate():i,d=e.about,u=void 0===d?"N/A":d,b=e.interests,h=void 0===b?"N/A":b,x=e.location,O=void 0===x?"20 W 34th St, New York, NY 10001":x,g=e.team,y=void 0===g?"New York Yankees":g,S=e.onSubmit,N=e.previousForm;return Object(w.jsxs)(m.a,{children:[Object(w.jsx)(j.a.Toggle,{as:m.a.Header,eventKey:a,children:"Summary"}),Object(w.jsx)(j.a.Collapse,{eventKey:a,children:Object(w.jsx)(m.a.Body,{children:Object(w.jsxs)(f.a,{onSubmit:S,children:[Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Name"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{readOnly:!0,value:l})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Sport(s)"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(p.a,{value:r,isDisabled:!0,isMulti:!0})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Gender"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{readOnly:!0,value:s})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Date of Birth"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{readOnly:!0,value:C()(o).format("MM/DD/YY")})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Description"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{as:"textarea",htmlSize:3,readOnly:!0,value:u})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Interests"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{as:"textarea",htmlSize:3,readOnly:!0,value:h})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Location"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{readOnly:!0,value:O})})]}),Object(w.jsxs)(f.a.Group,{as:D.a,children:[Object(w.jsx)(f.a.Label,{column:!0,sm:"2",children:"Team Name"}),Object(w.jsx)(T.a,{sm:"10",children:Object(w.jsx)(f.a.Control,{readOnly:!0,value:y})})]}),Object(w.jsx)(v.a,{variant:"success",type:"submit",children:"Submit"})," ",Object(w.jsx)(v.a,{variant:"outline-secondary",onClick:N,children:"Back"})]})})})]})}var R=t(120),M=t(82),E=t(119),q=t(65),K=function(e){var a=e.profile,t=e.selectProfile,l=a.name,r=a.gender,c=a.about,s=a.sports,i=a.profileImage;n.a.useEffect((function(){i||Object(q.run)(null)}));var o=s.slice(0,2).map((function(e){return Object(w.jsx)(M.a.Item,{children:e.label})}));return Object(w.jsxs)(m.a,{children:[Object(w.jsx)(m.a.Img,{variant:"top",src:i||"holder.js/100px160"}),Object(w.jsxs)(m.a.Body,{children:[Object(w.jsx)(m.a.Title,{children:l}),Object(w.jsx)(m.a.Subtitle,{className:"mb-2 text-muted",children:r}),Object(w.jsx)(m.a.Text,{children:c})]}),Object(w.jsx)(M.a,{className:"list-group-flush",children:o}),Object(w.jsx)(m.a.Body,{children:Object(w.jsx)(v.a,{variant:"link",onClick:function(){return t(a._id)},children:"View Profile"})})]})},H=function(e){var a=e.isStale,t=e.data,l=e.selectProfile;if(a&&!t)return Object(w.jsx)(E.a,{animation:"border",role:"status",children:Object(w.jsx)("span",{className:"sr-only",children:"Loading..."})});if(!t)return Object(w.jsx)("p",{children:"Nothing to see here..."});var n=t.profileIdList,r=t.profileIdMap,c=n.map((function(e){return Object(w.jsx)(K,{profile:r[e],selectProfile:l})}));return Object(w.jsx)(R.a,{className:"pt-3",children:c})},Y=t(49),z=function(e){var a=e.profile,t=e.show,l=e.onHide,r=e.toggleEditing;return n.a.useEffect((function(){a.profileImage||Object(q.run)(null)})),Object(w.jsxs)(Y.a,{show:t,onHide:function(){l()},size:"lg",centered:!0,children:[Object(w.jsx)(Y.a.Header,{closeButton:!0,children:Object(w.jsx)(Y.a.Title,{children:"View Profile"})}),Object(w.jsx)(Y.a.Body,{children:Object(w.jsx)(u.a,{children:Object(w.jsxs)(f.a,{children:[Object(w.jsxs)(f.a.Row,{children:[Object(w.jsx)(T.a,{className:"d-flex justify-content-center",children:Object(w.jsx)(G.a,{src:a.profileImage||"holder.js/171x180",rounded:!0})}),Object(w.jsxs)(T.a,{children:[Object(w.jsxs)(f.a.Group,{children:[Object(w.jsx)(f.a.Label,{children:Object(w.jsx)("span",{className:"fw-bold",children:"Name"})}),Object(w.jsx)(f.a.Control,{readOnly:!0,placeholder:a.name||"N/A"})]}),Object(w.jsxs)(f.a.Row,{children:[Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"Gender"}),Object(w.jsx)(f.a.Control,{readOnly:!0,placeholder:a.gender||"N/A"})]}),Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"Birthday"}),Object(w.jsx)(f.a.Control,{readOnly:!0,placeholder:a.dob?C()(a.dob).format("MM/DD/YY"):"N/A"})]})]})]})]}),Object(w.jsx)(f.a.Row,{children:Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"My Sports"}),Object(w.jsx)(p.a,{isDisabled:!0,isMulti:!0,value:a.sports||[]})]})}),Object(w.jsxs)(f.a.Row,{children:[Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"Location"}),Object(w.jsx)(f.a.Control,{readOnly:!0,placeholder:a.location||"N/A"})]}),Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"Favorite Team"}),Object(w.jsx)(f.a.Control,{readOnly:!0,placeholder:a.team||"N/A"})]})]}),Object(w.jsxs)(f.a.Row,{children:[Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"About Me"}),Object(w.jsx)(f.a.Control,{readOnly:!0,as:"textarea",htmlSize:3,placeholder:a.about||"N/A"})]}),Object(w.jsxs)(f.a.Group,{as:T.a,children:[Object(w.jsx)(f.a.Label,{className:"fw-bold",children:"My Interests"}),Object(w.jsx)(f.a.Control,{readOnly:!0,as:"textarea",htmlSize:3,placeholder:a.interests||"N/A"})]})]}),Object(w.jsx)(D.a,{children:Object(w.jsx)(T.a,{className:"d-flex justify-content-end",children:Object(w.jsx)(v.a,{variant:"outline-secondary",onClick:r,children:"Edit Profile"})})})]})})})]})};var V=function(){var e=l.useState(null),a=Object(i.a)(e,2),t=a[0],n=a[1],r=l.useState(null),c=Object(i.a)(r,2),o=c[0],h=c[1],x=l.useState(!0),O=Object(i.a)(x,2),m=O[0],f=O[1],v=l.useState(!1),p=Object(i.a)(v,2),g=(p[0],p[1]),y=l.useState(!1),S=Object(i.a)(y,2),C=S[0],N=S[1],k=l.useState("0"),I=Object(i.a)(k,2),L=I[0],G=I[1],A=l.useState(null),F=Object(i.a)(A,2),D=F[0],T=F[1],R=l.useState(null),M=Object(i.a)(R,2),E=M[0],q=M[1];return l.useEffect((function(){D&&G("1")}),[D]),l.useEffect((function(){E&&G("2")}),[E]),l.useEffect((function(){m&&d.a.get("/api/profile").then((function(e){var a=e.data;e.msg,e.status;n(a.data),f(!1)})).catch((function(e){f(!1)}))}),[m]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(z,{profile:(null===t||void 0===t?void 0:t.profileIdMap[o])||{},show:o,onHide:function(){return h(null)},toggleEditing:function(){return g(!0)}}),Object(w.jsx)(b.a,{bg:"primary",variant:"dark",children:Object(w.jsx)(b.a.Brand,{children:"Athlete Profiles"})}),Object(w.jsxs)(u.a,{className:"pt-3",id:"container-root",children:[Object(w.jsxs)(j.a,{activeKey:L,children:[Object(w.jsx)(B,{accordionActiveKey:"0",setBasicInfo:function(e){return T(e)},openBasicInfo:function(){"0"===L?G("-1"):"-1"===L&&G("0")},shouldFormReset:C}),Object(w.jsx)(_,{accordionActiveKey:"1",setAboutInfo:q,previousForm:function(){return G("0")},shouldFormReset:C}),Object(w.jsx)(P,Object(s.a)(Object(s.a)({accordionActiveKey:"2",onSubmit:function(e){e.preventDefault(),N(!1);var a=Object(s.a)(Object(s.a)({},D),E);d.a.post("/api/profile/create",a).then((function(e){f(!0),G("-1"),T(null),q(null),N(!0)})).catch((function(e){console.log(e),alert("Could not create profile")}))},previousForm:function(){return G("1")}},D),E))]}),Object(w.jsx)(H,{isStale:m,data:t,selectProfile:h,setIsEditing:function(){return g(!0)}})]})]})},J=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,264)).then((function(a){var t=a.getCLS,l=a.getFID,n=a.getFCP,r=a.getLCP,c=a.getTTFB;t(e),l(e),n(e),r(e),c(e)}))};c.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(V,{})}),document.getElementById("root")),J()}},[[261,1,2]]]);
//# sourceMappingURL=main.35842825.chunk.js.map